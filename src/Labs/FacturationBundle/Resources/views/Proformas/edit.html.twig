{% extends 'LabsFacturationBundle::layout_system.html.twig' %}
{% block Title %}  {{ 'Gestion de Proforma-Edition'|capitalize }} {% endblock %}
{% block loyout_body %}
 <!-- Main content -->
 <div class="content-wrapper">
  <!-- Form horizontal -->

  {% for flashMessage in app.session.flashbag.get('success') %}
   <div class="alert alert-success alert-styled-left alert-arrow-left alert-bordered">
    <button type="button" class="close" data-dismiss="alert"><span>&times;</span><span class="sr-only">Close</span></button>
    <span class="text-semibold">{{ flashMessage|capitalize }}</span>
   </div>
  {% endfor %}

  <div class="panel panel-flat">
   <div class="panel-heading">
    <h5 class="panel-title">{{ 'Gestion des Proformas - Créer une nouvelle proforma' }}</h5>
    <div class="heading-elements">
     <div class="icons-list">
      <a href="{{ path('labs_facturation_proforma_get_list') }}" class="btn btn-primary btn-labeled"><b><i class="icon-menu7"></i></b> Afficher la liste</a>
     </div>
    </div>
   </div>
   <div class="panel-body">
    {{ form_start(form, { attr : { 'class':'form-horizontal'}}) }}
    {{ form_errors(form) }}

    <fieldset class="content-group col-lg-8 col-md-offset-2">

     <legend class="text-bold">Formulaire de création de proforma</legend>

     <div class="form-group">
      <label class="control-label col-lg-3">Laquelle de vos entreprises crée la pro-forma ?</label>
      <div class="col-lg-6">
       {{ form_row(form.compagny) }}
       {{ form_errors(form.compagny) }}
      </div>
     </div>

     <div class="form-group">
      <label class="control-label col-lg-3">Client concerné(e)</label>
      <div class="col-lg-6">
       {{ form_row(form.clients) }}
       {{ form_errors(form.clients) }}
      </div>
      <div class="col-lg-3">
       <button type="button" class="btn btn-success btn-sm" data-toggle="modal" data-target="#modal_form_client">
        Créer un nouveau client <i class="icon-plus3 position-right"></i>
       </button>
      </div>
     </div>
     <div class="form-group">
      <label class="control-label col-lg-3">Conditionalité</label>
      <div class="col-lg-6">
       {{ form_row(form.conditions) }}
       {{ form_errors(form.conditions) }}
      </div>
      <div class="col-lg-3">
       <button type="button" class="btn btn-success btn-sm" data-toggle="modal" data-target="#modal_form_condition">
        Créer une nouvelle condition<i class="icon-plus3 position-right"></i>
       </button>
      </div>

     </div>
     <div class="form-group">
      <label class="control-label col-lg-3">Objet de la pro-forma</label>
      <div class="col-lg-6">
       {{ form_row(form.subject) }}
       {{ form_errors(form.subject) }}
      </div>
     </div>

     <div class="text-right col-lg-9">
      <button type="submit" class="btn btn-danger">Modifer la proforma <i class="icon-database-add position-right"></i></button>
     </div>

    </fieldset>

    {{ form_end(form) }}

   </div>
  </div>
 </div>

 <!-- Modal space -->

 {{ render(controller('LabsMembersBundle:Client:addModal')) }}
 {{ render(controller('LabsFacturationBundle:Conditions:addModal')) }}


{% endblock %}
{% block afterBlock %}

{% endblock %}
{% block themes %}
 {{ parent() }}
 <script type="text/javascript" src="{{ asset('bundles/labslimitlesstpl/assets/js/core/libraries/jquery_ui/datepicker.min.js') }}"></script>
 <script type="text/javascript" src="{{ asset('bundles/labslimitlesstpl/assets/js/plugins/forms/styling/uniform.min.js') }}"></script>
 <script type="text/javascript" src="{{ asset('bundles/labslimitlesstpl/assets/js/pages/form_inputs.js') }}"></script>
 <script type="text/javascript" src="{{ asset('bundles/labslimitlesstpl/assets/js/core/libraries/jquery_ui/interactions.min.js') }}"></script>
 <script type="text/javascript" src="{{ asset('bundles/labslimitlesstpl/assets/js/plugins/forms/selects/select2.min.js') }}"></script>
 <script type="text/javascript" src="{{ asset('bundles/labslimitlesstpl/assets/js/pages/form_select2.js') }}"></script>
 <script type="text/javascript" src="{{ asset('bundles/labslimitlesstpl/assets/js/pages/components_modals.js') }}"></script>
 <script type="text/javascript" src="{{ asset('js/main-form.js') }}"></script>
 <script type="text/javascript" src="{{ asset('bundles/labslimitlesstpl/assets/js/plugins/pickers/anytime.min.js')}}"></script>
 <script type="text/javascript" src="{{ asset('bundles/labslimitlesstpl/assets/js/plugins/pickers/pickadate/picker.js') }}"></script>
 <script type="text/javascript" src="{{ asset('bundles/labslimitlesstpl/assets/js/plugins/pickers/pickadate/picker.date.js') }}"></script>
 <script type="text/javascript" src="{{ asset('bundles/labslimitlesstpl/assets/js/plugins/pickers/pickadate/picker.time.js') }}"></script>
 <script type="text/javascript" src="{{ asset('bundles/labslimitlesstpl/assets/js/plugins/pickers/pickadate/legacy.js') }}"></script>

 <script type="text/javascript" src="{{ asset('bundles/labslimitlesstpl/assets/js/pages/picker_date.js') }}"></script>

{% endblock %}